# This is an example Hyprland config file.
# Syntax is the same as in Hypr, but settings might differ.
#
# Refer to the wiki for more information.

monitor=DP-1,2560x1440@165,0x0,1,vrr,1
monitor=DP-3,2560x1440@165,2560x0,1,vrr,1
# monitor=DP-3,1920x1080@75,0x0,1,bitdepth,10
# monitor=DP-3,transform,3
workspace=DP-1,21

monitor=DP-1,addreserved,0,0,0,0

input {
    follow_mouse=1
    repeat_delay=400
    repeat_rate=40
    kb_variant=alt-intl
    kb_options=compose:ralt
    scroll_factor=1.10
    sensitivity=1.0
}

# Ref https://wiki.hyprland.org/Configuring/Workspace-Rules/
# "Smart gaps" / "No gaps when only"
# uncomment all if you wish to use that.
workspace = w[t1], gapsout:0, gapsin:0
workspace = w[tg1], gapsout:0, gapsin:0
workspace = f[1], gapsout:0, gapsin:0
windowrulev2 = bordersize 0, floating:0, onworkspace:w[t1]
windowrulev2 = rounding 0, floating:0, onworkspace:w[t1]
windowrulev2 = bordersize 0, floating:0, onworkspace:w[tg1]
windowrulev2 = rounding 0, floating:0, onworkspace:w[tg1]
windowrulev2 = bordersize 0, floating:0, onworkspace:f[1]
windowrulev2 = rounding 0, floating:0, onworkspace:f[1]

general {
    gaps_in=4
    gaps_out=6
    border_size=2
    # col.active_border=0xffa6e3a1
    col.active_border=0xffa6e3a1
    col.inactive_border=0xff585b70
    layout=dwindle
    no_border_on_floating=true
    allow_tearing=true
}

cursor {
    no_hardware_cursors = true
}

windowrule = immediate, class:^.*Clair.*$
windowrule = immediate, class:^.*Overwatch.*$
windowrule = immediate, class:^(Deadlock)$
windowrule = immediate, class:^.*Kingdom.*$

decoration {
    rounding=8

    # Your blur "amount" is blur_size * blur_passes, but high blur_size (over around 5-ish) will produce artifacts.
    # if you want heavy blur, you need to up the blur_passes.
    # the more passes, the more you can up the blur_size without noticing artifacts.
    blur {
        enabled=true
        size=1
        passes=3
        brightness=1
        contrast=1
    }

    shadow {
        enabled=true
        range=7
        render_power=3
        offset=0 0
        ignore_window=false
    }

    # drop_shadow=1

    # dim_inactive=true
    # dim_strength=0.08

    # col.shadow=0xff11111b
}

dwindle {
    pseudotile=0 # enable pseudotiling on dwindle
    force_split=2
}

binds {
    scroll_event_delay=0
    allow_workspace_cycles=true
}

master {
    # no_gaps_when_only=true
}

dwindle {
    # no_gaps_when_only=1
    force_split=2
}

misc {
    disable_hyprland_logo=true
    vfr=true
    animate_manual_resizes=false
    animate_mouse_windowdragging=false
}

render {
    direct_scanout=false
    # direct_scanout=true leads to green artifacts
}

env = WLR_DRM_NO_ATOMIC,1
windowrulev2 = immediate, class:^(cyberpunk2077.exe)$

# windowrule=animation slide,^(Dunst)$

layerrule=blur,rofi
layerrule=ignorezero,rofi
layerrule=blur,waybar
layerrule=noanim,selection
layerrule=noanim,showkeys

animations {
    enabled = true

    $animSpeed = 3
    $animSpeedFast = 1.6
    $animSpeedSlow = 7

    # ========================================
    # ANIMATION CURVES (BEZIER FUNCTIONS)
    # ========================================

    bezier = linear, 0, 0, 1, 1
    bezier = md3_standard, 0.2, 0, 0, 1
    bezier = md3_decel, 0.05, 0.7, 0.1, 1
    bezier = md3_accel, 0.3, 0, 0.8, 0.15
    bezier = overshot, 0.05, 0.9, 0.1, 1.1
    bezier = crazyshot, 0.1, 1.5, 0.76, 0.92
    bezier = hyprnostretch, 0.05, 0.9, 0.1, 1.0
    bezier = menu_decel, 0.1, 1, 0, 1
    bezier = menu_accel, 0.38, 0.04, 1, 0.07
    bezier = easeInOutCirc, 0.85, 0, 0.15, 1
    bezier = easeOutCirc, 0, 0.55, 0.45, 1
    bezier = easeOutExpo, 0.16, 1, 0.3, 1
    bezier = softAcDecel, 0.26, 0.26, 0.15, 1
    bezier = md2, 0.4, 0, 0.2, 1

    # ========================================
    # WINDOW ANIMATIONS
    # ========================================
    animation = windows, 1, $animSpeed, md3_decel, popin 60%
    animation = windowsIn, 1, $animSpeed, md3_decel, popin 60%
    animation = windowsOut, 1, $animSpeed, md3_accel, popin 60%
    animation = border, 1, 10, default
    animation = fade, 1, $animSpeed, md3_decel

    # ========================================
    # LAYER ANIMATIONS
    # ========================================
    animation = layersIn, 1, $animSpeed, menu_decel, slide
    animation = layersOut, 1, $animSpeedFast, menu_accel
    animation = fadeLayersIn, 1, 2, menu_decel
    animation = fadeLayersOut, 1, 4.5, menu_accel

    # ========================================
    # WORKSPACE ANIMATIONS
    # ========================================
    # animation = workspaces, 1, $animSpeedFast, menu_decel, slidefade 20%
    animation = workspaces, 1, 2.6, menu_decel, slidefade 20%
    animation = specialWorkspace, 1, $animSpeed, md3_decel, slidevert

    # ========================================
    # ALTERNATIVE ANIMATIONS (COMMENTED)
    # ========================================
    # animation = workspaces, 1, 2.5, softAcDecel, slide
    # animation = specialWorkspace, 1, 3, md3_decel, slidefadevert 15%
}


# example binds
# bind=SUPER,return,exec,wezterm start ~/.config/scripts/new_tmux_terminal.sh
# bind=SUPERSHIFT,return,exec,wezterm start ~/.config/scripts/new_tmux_session_temporary.sh
# bind=SUPERCTRL,return,exec,wezterm
bind=SUPER,return,exec,ghostty -e sh ~/.config/scripts/new_tmux_terminal.sh
bind=SUPERSHIFT,return,exec,ghostty -e sh ~/.config/scripts/new_tmux_session_temporary.sh
bind=SUPERCTRL,return,exec,ghostty

bind=SUPER,Q,killactive,
bind=SUPER,4,togglefloating,
bind=SUPER,3,fullscreen,

bind=SUPER,M,splitratio,-0.05
bind=SUPER,N,cyclenext
bind=SUPER,E,cyclenext,prev
bind=SUPERSHIFT,N,swapnext
bind=SUPERSHIFT,E,swapnext,prev
bind=SUPER,I,splitratio,0.05
bind=SUPER,F,exec,pkill rofi || rofi -show drun

bind=SUPER,R,workspace,11
bind=SUPER,S,workspace,12
bind=SUPER,T,workspace,13
bind=SUPER,X,workspace,14
bind=SUPER,C,workspace,15
bind=SUPER,D,workspace,16
bind=SUPER,G,workspace,17
bind=SUPER,V,workspace,18

bind=SUPER,h,focusmonitor,DP-1
bind=SUPER,comma,focusmonitor,DP-3
bind=SUPER,period,focusmonitor,DP-1
bind=SUPERSHIFT,h,movewindow,mon:DP-1
bind=SUPERSHIFT,comma,movewindow,mon:DP-3
bind=SUPERSHIFT,period,movewindow,mon:DP-1

bind=SUPERALT,comma,exec,sleep 0.01 && hyprctl dispatch dpms "off DP-3"
bind=SUPERCTRL,comma,exec,sleep 0.01 && hyprctl dispatch dpms "on DP-3"

bind=SUPER,mouse_down,workspace,e-1
bind=SUPER,mouse_up,workspace,e+1
# sdhe

bind=SUPERCTRL,R,movetoworkspace,11
bind=SUPERCTRL,S,movetoworkspace,12
bind=SUPERCTRL,T,movetoworkspace,13
bind=SUPERCTRL,X,movetoworkspace,14
bind=SUPERCTRL,C,movetoworkspace,15
bind=SUPERCTRL,D,movetoworkspace,16
bind=SUPERCTRL,G,movetoworkspace,17
bind=SUPERCTRL,V,movetoworkspace,18

bind=SUPERSHIFT,l,exec,~/.config/scripts/lock

bind=SUPERSHIFT,z,exec,~/.config/scripts/switch_keyboard_layout.sh

exec-once=sh -c "tail -f /tmp/wobpipe | wob"

bind=SUPER,w,exec,pamixer --decrease 2 && pamixer --get-volume > /tmp/wobpipe
bind=SUPER,p,exec,pamixer --increase 2 && pamixer --get-volume > /tmp/wobpipe
bind=SUPER,2,exec,pamixer --toggle-mute
bind=SUPER,l,exec,hyprshot --mode DP-1 --mode output
bind=SUPER,u,exec,hyprshot --freeze -m region
bind=SUPER,y,exec,~/.config/hypr/record.sh

# bind=SUPER,w,exec,~/.config/scripts/toggle-night-mode

bindm=SUPER,mouse:272,movewindow
bindm=SUPER,mouse:273,resizewindow
bind=SUPERSHIFT,mouse:276,killactive

workspace = 11, monitor:DP-1
workspace = 12, monitor:DP-1
workspace = 13, monitor:DP-1
workspace = 14, monitor:DP-1
workspace = 15, monitor:DP-1
workspace = 16, monitor:DP-1
workspace = 17, monitor:DP-1
workspace = 18, monitor:DP-1

workspace = 21, monitor:DP-3
workspace = 22, monitor:DP-3
workspace = 23, monitor:DP-3
workspace = 24, monitor:DP-3
workspace = 25, monitor:DP-3
workspace = 26, monitor:DP-3

windowrulev2 = opacity 0.0 override 0.0 override,class:^(xwaylandvideobridge)$
windowrulev2 = noanim,class:^(xwaylandvideobridge)$
windowrulev2 = nofocus,class:^(xwaylandvideobridge)$
windowrulev2 = noinitialfocus,class:^(xwaylandvideobridge)$

windowrulev2 = bordersize 3,class:^(dunst)$

# windowrulev2 = rounding 0,class:^.*(wezterm)$
# windowrulev2 = bordersize 2,class:^.*(wezterm)$

# windowrulev2 = stayfocused, title:^()$,class:^(steam)$
# windowrulev2 = minsize 1 1, title:^()$,class:^(steam)$

# windowrulev2 = fullscreen,class:^steam_app\d+$

exec-once=~/.config/hypr/cleanup_after_start.sh
# exec-once=corectrl
exec-once = wl-paste --type text --watch cliphist store #Stores only text data
exec-once = wl-paste --type image --watch cliphist store #Stores only image data
exec-once=xrandr --output XWAYLAND1 --primary

exec-once=gsettings set org.gnome.desktop.interface gtk-theme "Catppuccin-Mocha-Standard-Blue-Dark"
exec-once=gsettings set org.gnome.desktop.interface icon-theme "Colloid-green"

exec-once=gsettings set org.gnome.desktop.interface cursor-theme "Catppuccin-Mocha-Dark-Cursors"
exec-once=gsettings set org.gnome.desktop.interface cursor-size 32
exec-once=hyprctl setcursor "Catppuccin-Mocha-Dark-Cursors" 32
exec-once=Discord
env = XCURSOR_SIZE,32

exec-once=nwg-look -a

exec-once = hyprctl dispatch workspace 11

exec-once=~/.config/hypr/start.sh

# THIS IS THE ONE THAT MAKES IT LOCK EVERY 30 MINUTES
# exec-once=~/.config/hypr/scripts/suspend.sh

exec-once=swww-daemon

exec-once=dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
