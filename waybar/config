// Angelo's Waybar config
// https://github.com/angelofallars/dotfiles

{
    "layer": "bottom",
    "height": 30,
    "spacing": 0,
    "margin-top": 3,

    // If you're using sway, replace `river/tags` with `sway/workspaces` .

    "modules-left": ["river/tags", "custom/treefetch-downloads"],
    "modules-center": ["mpd", "custom/mpd-song-scroll"],
    "modules-right": ["tray", "custom/update-count", "clock#date", "clock"],

    "group/mpd": {
        "modules": [
            "mpd",
        ]
    },

    "river/tags": {
        "num-tags": 5,
        "tag-labels": [
            "‰∏Ä", "‰∫å", "‰∏â", "Âõõ", "‰∫î", "ÂÖ≠",
           ]
    },

    "mpd": {
        "format": "{stateIcon} {elapsedTime:%M:%S}/{totalTime:%M:%S} {repeatIcon}{singleIcon}{randomIcon}{consumeIcon}",
        "format-stopped": "",
        "interval": 1,
        "state-icons": {
            "paused": "‚ñ∂Ô∏è",
            "playing": "‚è∏"
        },

        "consume-icons": {
            "off": "<span color='#919191'>ÔÉÑ </span>",
            "on": "ÔÉÑ "
        },
        "random-icons": {
            "off": "<span color='#919191'>ÔÅ¥ </span>",
            "on": "ÔÅ¥ "
        },
        "repeat-icons": {
            "off": "<span color='#919191'>ÔÄû </span>",
            "on": "ÔÄû "
        },
        "single-icons": {
            "off": "<span color='#919191'>Ô¢£ </span>",
            "on": "Ô¢£ "
        },
    },

    "tray": {
        "icon-size": 21,
        "spacing": 5
    },

    "clock": {
        "tooltip-format": "<span rise=\"-14pt\"><big>{:%Y B}</big>\n<tt><small>{calendar}</small></tt></span>",
        "format": "üçî {:%I:%M %p}",
    },

    "clock#date": {
        "tooltip-format": "<span rise=\"-14pt\"><big>{:%Y B}</big>\n<tt><small>{calendar}</small></tt></span>",
        "format": "{:üçü %B %d, %A}",
    },

    "backlight": {
        "device": "intel-backlight",
        "format": "{icon} {percent}%",
        "format-icons": [ "üçï" ],
        "on-scroll-up": "xbacklight -inc 5",
        "on-scroll-down": "xbacklight -dec 5",
    },

    "pulseaudio": {
        "scroll-step": 2, // %, can be a float
        "format": "{icon} {volume}% ",
        "format-muted": "üîá ... ",
        "format-icons": {
            "default": ["üåÆ"]
        },
        "on-click": "pamixer -t"
    },

    // Need mpd installed for this to work
    "custom/mpd-song-scroll": {
        "format": "<span color=\"#D08250\">ÓÇ∂</span><span bgcolor=\"#D08250\"> {} </span><span color=\"#D08250\">ÓÇ¥</span>",
        "max-length": 80,
        "escape": true,
        "exec":  "~/.config/waybar/scripts/mpd_song_scroll"
    },

    // List the downloads for a specific Github repo
    "custom/treefetch-downloads": {
        "format": "<span rise=\"-14pt\">üçï treefetch - {} downloads</span>",
        "interval": 240,
        "escape": true,
        "exec":  "~/.config/waybar/scripts/downloads angelofallars treefetch"
    },

    "custom/update-count": {
        "format": "<span rise=\"-14pt\">{}</span>",
        "interval": 60,
        "escape": true,
        "exec":  "~/.config/waybar/scripts/arch_updates",
        "on-click": "~/.config/waybar/scripts/notify_arch_updates"
    },
}
