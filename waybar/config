// Angelo's Waybar config
// https://github.com/angelofallars/dotfiles

{
    "layer": "top",
    "height": 36,
    "spacing": 0,

    // If you're using sway, replace `river/tags` with `sway/workspaces` .

    "modules-left": ["river/tags", "custom/treefetch-downloads"],
    "modules-center": ["mpd", "custom/mpd-song-scroll"],
    "modules-right": ["tray", "pulseaudio", "backlight", "clock#date", "clock"],

    "river/tags": {
        "num-tags": 6,
        "tag-labels": [
            "‰∏Ä", "‰∫å", "‰∏â", "Âõõ", "‰∫î", "ÂÖ≠",
           ]
    },

    "mpd": {
        "format": "{stateIcon} {elapsedTime:%M:%S}/{totalTime:%M:%S} ",
        "format-stopped": "",
        "interval": 1,
        "state-icons": {
            "paused": "‚ñ∂Ô∏è",
            "playing": "‚è∏"
        },
        "tooltip-format": "MPD (connected)",
        "tooltip-format-disconnected": "MPD (disconnected)",
        "on-scroll-up": "mpc seek +3",
        "on-scroll-down": "mpc seek -3",
        "on-click": "mpc toggle",
        "on-click-right": "alacritty --command ncmpcpp"
    },

    "tray": {
        "icon-size": 21,
        "spacing": 10
    },

    "clock": {
        "tooltip-format": "<big>{:%Y %B}</big>\n<tt><small>{calendar}</small></tt>",
        "format": "ü•ë {:%I:%M %p}",
    },

    "clock#date": {
        "tooltip-format": "<big>{:%Y %B}</big>\n<tt><small>{calendar}</small></tt>",
        "format": "{:üçü %a, %b %d}",
    },

    "backlight": {
        "device": "intel-backlight",
        "format": "{icon} {percent}%",
        "format-icons": [ "üçø" ],
        "on-scroll-up": "xbacklight -inc 5",
        "on-scroll-down": "xbacklight -dec 5",
    },

    "pulseaudio": {
        "scroll-step": 2, // %, can be a float
        "format": "{icon} {volume}% ",
        "format-muted": "üîá ... ",
        "format-icons": {
            "default": ["üåÆ"]
        },
        "on-click": "pamixer -t"
    },

    // Need mpd installed for this to work
    "custom/mpd-song-scroll": {
        "format": "{}",
        "max-length": 80,
        "escape": true,
        "exec":  "~/.config/waybar/scripts/mpd-song-scroll.py"
    },

    // List the downloads for a specific Github repo
    "custom/treefetch-downloads": {
        "format": "üå∂Ô∏è <span underline='single'>treefetch</span> {} downloads",
        "interval": 240,
        "escape": true,
        "exec":  "~/.config/waybar/scripts/downloads.py angelofallars treefetch"
    }
}

