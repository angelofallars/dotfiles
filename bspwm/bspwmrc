#! /bin/sh

pgrep -x sxhkd > /dev/null || sxhkd &

bspc monitor -d 1 2 3 4 5 6 7 8

bspc config border_width         2
bspc config window_gap           9
# Completely covered
bspc config window_gap           6
bspc config left_padding         6
bspc config right_padding        6
bspc config top_padding          21
bspc config bottom_padding       -3

# Polybar
killall polybar ; polybar mybar &

# Colors
bspc config focused_border_color "#5599D1"
bspc config normal_border_color  "#23272E"

bspc config split_ratio          0.52
bspc config borderless_monocle   true
bspc config gapless_monocle      false

##################
## Window rules ##
##################

### App-specific stats
bspc rule -a Gpick state=floating


### Launch apps on specific workspaces

## Workspace 1 (Classes)
bspc rule -a zoom desktop='^1' follow=on focus=on
bspc rule -a zoom:Chat desktop='^1' state=floating

## Workspace 2 (Web Browser)
bspc rule -a Brave-browser desktop='^2' follow=on focus=on
bspc rule -a qutebrowser desktop='^2' follow=on focus=on
bspc rule -a LibreWolf desktop='^2' follow=on focus=on

bspc rule -a FreeTube desktop='^2' follow=on focus=on

## Workspace 3 (Terminal)
bspc rule -a Alacritty desktop='^3' follow=on focus=on

## Workspace 4 (Social)
bspc rule -a discord desktop='^4' follow=on focus=on

## Workspace 5 (Work/Study)

# Email
bspc rule -a Geary desktop='^5' follow=on focus=on

# FreeOffice suite
bspc rule -a tm desktop='^5' follow=on focus=on
bspc rule -a pm desktop='^5' follow=on focus=on
bspc rule -a pr desktop='^5' follow=on focus=on

# LibreOffice
bspc rule -a libreoffice-startcenter desktop='^5' follow=on focus=on

# Anki
bspc rule -a Anki desktop='^5' follow=on focus=on state=floating

## Workspace 6 (Files)
bspc rule -a Thunar desktop='^6' follow=on focus=on
bspc rule -a Transmission-gtk desktop='^6' follow=on focus=on

## Workspace 7 (Multimedia)
bspc rule -a vlc desktop='^7' follow=on focus=on state=fullscreen
bspc rule -a Gimp-2.10 desktop='^7' follow=on focus=on
bspc rule -a Audacity desktop='^7' follow=on focus=on

## Workspace 8 (Settings)
bspc rule -a Lxappearance desktop='^8' follow=on focus=on state=floating
bspc rule -a Xfce4-settings-editor desktop='^8' follow=on focus=on state=floating
bspc rule -a Xfce4-settings-manager desktop='^8' follow=on focus=on state=floating


# Set cursor theme
xsetroot -cursor_name left_ptr

# Picom
#killall picom ; picom  --vsync --backend glx -CGb -o 0 -i 1 --unredir-if-possible --glx-no-stencil -D 8 --glx-no-rebind-pixmap -m 100 &
killall picom ; picom -b &
# Background
killall feh ; feh --bg-fill ~/Pictures/bluewall.png &
# Night light
# killall redshift ; killall redshift ; redshift -l 14.599512:120.984222 &
# Remap control key and caps lock
xmodmap ~/.config/i3/swapkeys -display :0 &

